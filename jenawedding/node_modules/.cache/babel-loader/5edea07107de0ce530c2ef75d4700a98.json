{"ast":null,"code":"var _jsxFileName = \"/Users/Jenas/Desktop/Web Dev/React-Projects/jenawedding/src/Screens/rsvp.js\";\nimport React, { Component } from 'react';\nimport Guest from '../components/guest';\nimport axios from 'axios';\nimport '../Rsvp.css';\nimport TextField from '@material-ui/core/TextField';\naxios.defaults.baseURL = \"https://us-central1-jenawedding-ecede.cloudfunctions.net/api\";\n\nclass Rsvp extends Component {\n  constructor() {\n    super();\n\n    this.searchChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.capitalize = name => {\n      const nameList = name.split(' ');\n      const newNameList = [];\n      nameList.forEach(n => {\n        const newName = n[0].toUpperCase() + n.substring(1, name.length);\n        newNameList.push(newName);\n      });\n      return newNameList.join(' ');\n    };\n\n    this.searchName = () => {\n      this.setState({\n        loading: true\n      });\n      const name = this.capitalize(this.state.search).replace(' ', '%20');\n      axios.get(`guests/${name}`, () => {\n        return {\n          withCredentials: true\n        };\n      }).then(res => {\n        if (res) {\n          this.setState({\n            originalAttendeesList: res.data.members,\n            partyAttendees: res.data.members,\n            error: ''\n          });\n          this.setState({\n            loading: false,\n            loaded: true\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          loading: false,\n          loaded: false\n        });\n        console.error(err);\n        this.setState({\n          error: `${this.state.search} not found, please contact Jena to ask about an RSVP. Thank-you!`\n        });\n      });\n    };\n\n    this.guestRsvpCallBack = data => {\n      const newList = this.state.partyAttendees.filter(person => person.name !== data.name);\n      newList.push(data);\n      this.setState({\n        partyAttendees: newList.sort((a, b) => a.name > b.name ? 1 : -1)\n      });\n    };\n\n    this.submitRSVP = () => {\n      const _this$state = this.state,\n            partyAttendees = _this$state.partyAttendees,\n            originalAttendeesList = _this$state.originalAttendeesList;\n\n      if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n        axios.post('guests', {\n          party: this.state.partyAttendees[0].party,\n          members: partyAttendees\n        }).then(() => {\n          console.log(\"Guest information successfully changed!\");\n        }).catch(err => {\n          console.error(err);\n        });\n      } else {\n        console.log(\"Guest hasn't made any changes!\");\n      }\n    };\n\n    this.state = {\n      search: '',\n      originalAttendeesList: [],\n      partyAttendees: [],\n      error: '',\n      loading: false,\n      loaded: false\n    };\n  }\n\n  // onUnload = () => {\n  //     const {partyAttendees, originalAttendeesList} = this.state\n  //     if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n  //         axios.post('guests',{\n  //             party: this.state.partyAttendees[0].party,\n  //             members: partyAttendees\n  //         })\n  //         .then(() => {\n  //             console.log(\"Guest information successfully changed!\")\n  //         })\n  //         .catch(err => {\n  //             console.error(err)\n  //         })\n  //     } else {\n  //         console.log(\"Guest hasn't made any changes!\")\n  //     }\n  // }\n  componentWillUnmount() {\n    const _this$state2 = this.state,\n          partyAttendees = _this$state2.partyAttendees,\n          originalAttendeesList = _this$state2.originalAttendeesList;\n\n    if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n      axios.post('guests', {\n        party: this.state.partyAttendees[0].party,\n        members: partyAttendees\n      }).then(() => {\n        console.log(\"Guest information successfully changed!\");\n      }).catch(err => {\n        console.error(err);\n      });\n    } else {\n      console.log(\"Guest hasn't made any changes!\");\n    }\n  }\n\n  // componentDidMount() {\n  //     window.addEventListener(\"beforeunload\", this.onUnload)\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: '10%',\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        position: \"relative\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginRight: \"10%\",\n        position: \"absolute\",\n        bottom: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      onChange: this.searchChange,\n      value: this.state.search,\n      name: \"search\",\n      autoFocus: true,\n      type: \"text\",\n      label: \"Search Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      disabled: this.state.loading,\n      className: \"searchButton\",\n      onClick: this.searchName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Search\"), React.createElement(\"p\", {\n      className: \"error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.error)), this.state.loading ? React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sk-chase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"sk-chase-dot\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }))) : null, React.createElement(\"div\", {\n      style: {\n        marginBottom: '40px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.state.partyAttendees.map((pers, i) => {\n      return React.createElement(Guest, {\n        callback: this.guestRsvpCallBack,\n        key: i,\n        party: pers.party,\n        attending: pers.attending,\n        name: pers.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      });\n    }), React.createElement(\"div\", {\n      style: {\n        marginTop: \"50px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.loaded ? React.createElement(\"button\", {\n      onClick: this.submitRSVP,\n      className: \"searchButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Submit RSVP\") : null)));\n  }\n\n}\n\nexport default Rsvp;","map":{"version":3,"sources":["/Users/Jenas/Desktop/Web Dev/React-Projects/jenawedding/src/Screens/rsvp.js"],"names":["React","Component","Guest","axios","TextField","defaults","baseURL","Rsvp","constructor","searchChange","event","target","name","value","setState","capitalize","nameList","split","newNameList","forEach","n","newName","toUpperCase","substring","length","push","join","searchName","loading","state","search","replace","get","withCredentials","then","res","originalAttendeesList","data","members","partyAttendees","error","loaded","catch","err","console","guestRsvpCallBack","newList","filter","person","sort","a","b","submitRSVP","JSON","stringify","post","party","log","componentWillUnmount","render","textAlign","marginBottom","display","flexDirection","justifyContent","position","marginRight","bottom","map","pers","i","attending","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Guest from '../components/guest'\nimport axios from 'axios'\nimport '../Rsvp.css'\nimport TextField from '@material-ui/core/TextField';\n\naxios.defaults.baseURL = \"https://us-central1-jenawedding-ecede.cloudfunctions.net/api\"\n\n\n\nclass Rsvp extends Component {\n    constructor() {\n        super()\n        this.state={\n            search: '',\n            originalAttendeesList: [],\n            partyAttendees: [],\n            error: '',\n            loading: false,\n            loaded: false\n        }\n    }\n\n    searchChange = (event) => {\n        const {name, value} = event.target\n        this.setState({\n            [name]: value\n        })\n    }\n\n    capitalize = (name) => {\n        const nameList = name.split(' ')\n        const newNameList = []\n        nameList.forEach(n => {\n            const newName = n[0].toUpperCase() + n.substring(1, name.length)\n            newNameList.push(newName)\n        })\n        return newNameList.join(' ')\n    }\n\n    searchName = () => {\n        this.setState({loading: true})\n        const name = this.capitalize(this.state.search).replace(' ', '%20')        \n        axios.get(`guests/${name}`, ()=>{\n            return {withCredentials: true}\n        })\n        .then((res) => {\n            if (res) {\n            this.setState({\n                originalAttendeesList: res.data.members,\n                partyAttendees: res.data.members,\n                error: ''\n            })\n            this.setState({loading: false, loaded: true})\n        }\n        })\n        .catch(err => {\n            this.setState({loading: false, loaded: false})\n            console.error(err)\n            this.setState({error: `${this.state.search} not found, please contact Jena to ask about an RSVP. Thank-you!`})\n        })\n    }\n\n    guestRsvpCallBack = data => {\n        const newList = this.state.partyAttendees.filter(person => person.name !== data.name)\n        newList.push(data)\n        this.setState({partyAttendees: newList.sort((a,b)=> (a.name > b.name ? 1 : -1))})\n    }\n\n    // onUnload = () => {\n    //     const {partyAttendees, originalAttendeesList} = this.state\n    //     if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n    //         axios.post('guests',{\n    //             party: this.state.partyAttendees[0].party,\n    //             members: partyAttendees\n    //         })\n    //         .then(() => {\n    //             console.log(\"Guest information successfully changed!\")\n    //         })\n    //         .catch(err => {\n    //             console.error(err)\n    //         })\n    //     } else {\n    //         console.log(\"Guest hasn't made any changes!\")\n    //     }\n    // }\n    \n    componentWillUnmount() {\n        const {partyAttendees, originalAttendeesList} = this.state\n        if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n            axios.post('guests',{\n                party: this.state.partyAttendees[0].party,\n                members: partyAttendees\n            })\n            .then(() => {\n                console.log(\"Guest information successfully changed!\")\n            })\n            .catch(err => {\n                console.error(err)\n            })\n        } else {\n            console.log(\"Guest hasn't made any changes!\")\n        } \n    }\n\n    submitRSVP = () => {\n        const {partyAttendees, originalAttendeesList} = this.state\n        if (JSON.stringify(partyAttendees) !== JSON.stringify(originalAttendeesList)) {\n            axios.post('guests',{\n                party: this.state.partyAttendees[0].party,\n                members: partyAttendees\n            })\n            .then(() => {\n                console.log(\"Guest information successfully changed!\")\n            })\n            .catch(err => {\n                console.error(err)\n            })\n        } else {\n            console.log(\"Guest hasn't made any changes!\")\n        }\n    }\n    // componentDidMount() {\n    //     window.addEventListener(\"beforeunload\", this.onUnload)\n    // }\n\n    render() {\n        return (\n            <div style={{textAlign: 'center'}}>\n                <div style={{marginBottom: '10%', display: \"flex\",flexDirection: \"row\", justifyContent: \"center\",position: \"relative\" }}>\n                    <div style={{marginRight: \"10%\", position: \"absolute\", bottom: 0}}>\n                    <TextField onChange={this.searchChange} value={this.state.search} name='search' autoFocus = {true} type='text' label='Search Name' />\n                    </div>\n                    <button disabled={this.state.loading} className='searchButton' onClick={this.searchName}>Search</button>\n                    <p className='error'>{this.state.error}</p>\n                </div>\n                {this.state.loading?\n                <div className=\"loader\">\n                    <div className=\"sk-chase\">\n                        <div className=\"sk-chase-dot\"></div>\n                        <div className=\"sk-chase-dot\"></div>\n                        <div className=\"sk-chase-dot\"></div>\n                        <div className=\"sk-chase-dot\"></div>\n                        <div className=\"sk-chase-dot\"></div>\n                        <div className=\"sk-chase-dot\"></div>\n                    </div>\n                </div>\n                : null}\n                <div style ={{marginBottom: '40px'}}>\n                    {this.state.partyAttendees.map((pers,i) => {\n                        return <Guest callback={this.guestRsvpCallBack} key={i} party={pers.party} attending={pers.attending} name={pers.name} />\n                    })}\n                    <div style={{marginTop: \"50px\"}}>\n                    {this.state.loaded ? \n                    <button onClick={this.submitRSVP} className=\"searchButton\">Submit RSVP</button> : \n                    null\n                    }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Rsvp\n"]},"metadata":{},"sourceType":"module"}